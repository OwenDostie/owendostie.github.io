<!-- <div class="bg-gradient"></div> -->
<!-- <div class="bg-grain"></div> -->
<div class="bg-fade" id="bg-fade"></div>
<!-- MAIN CONTENT -->
<content>
    <div class="timeline">
        <div class="timeline__header">
            <p id="print">2021</p>
        </div>
        
        <div class="timeline__body">
            <!-- LEFT HALF -->
            <div class="timeline__left">
                <div class="timeline__item" style="z-index:2; color:orangered"data-begin="7/10/2021" data-end="7/10/2021" data-bump="-12x" data-bump-m="36x"
                href=https://github.com/OwenDostie/spotify-data target="_blank">
                <div class="timeline__item--padding"></div> 
                <div class="timeline__item--label" style="z-index: 2;" data-bump-m="6y">
                    <h2>ML Top 50 Albums</h2>
                    <div class="timeline__item--description">
                        <p>Capstone for the Google Data Analytics Professional certificate. This was a fun chance to
                            experiment with applied neural networks that work with semi-structured Spotify data.
                            <br><br>- <a href=https://github.com/OwenDostie/spotify-data target="_blank">Full write-up</a> </p></div>
                        </div>
                    <div class="timeline__item--marker" style="border-color:orangered; background-color:orangered"></div>
                </div>
                <div class="timeline__item" style="color:crimson; z-index: 1" data-begin="03/01/2019" data-end="present" data-bump-m="12x">
                    <div class="timeline__item--padding"></div> 
                    <div class="timeline__item--label" data-bump-m="-24y">
                        <h2>Charter School Research</h2>
                        <div class="timeline__item--description">
                            <p>
                                I thoroughly enjoyed collaborating with Dr. Jim Dewey, where my role was to provide supporting technology
                                for research on the Florida public school system. I tackled everything from ETL to statistical modeling independently,
                                which honed my data engineering and analytics skillsets. Find a detailed write-up 
                                <a href=https://github.com/OwenDostie/florida-charter-schools target="_blank">here</a>.
                            </p>
                            <a href="img/emergenceOfCharterSchools.gif" target="_blank" style="border: none"><img src="img/emergenceOfCharterSchools.gif" style="width:100%"></img></a>
                        </div>
                    </div>
                    <div class="timeline__item--marker" style="border-color:crimson; background-color:crimson"></div>
                    <!-- http://www.gifsmos.com/ -->
                </div>
                <div class="timeline__item" style="z-index: 2" data-begin="6/1/2018" data-end="7/1/2018" data-bump-m="12x">
                    <div class="timeline__item--padding"></div> 
                    <div class="timeline__item--label">
                        <h2 style="font-size:20px;">Audio Recording Utility</h2>
                        <p></p>
                        <div class="timeline__item--description">
                            <p>
                                I like to make music in my spare time, and I got sick of coming up with song ideas and forgetting them.
                                To solve this I built a app in Swift that lets you capture any audio the mic picked up in the last 15 minutes. 
                                I initially planned to distribute the software, but there are some major privacy concerns, as well as 
                                <a href="https://en.wikipedia.org/wiki/Telephone_call_recording_laws#Two-party_consent_states" target="_blank">two-party consent laws</a>... so no.
                            </p>
                        </div>
                    </div>
                    <div class="timeline__item--marker"></div>
                </div>
                <div class="timeline__item" style="z-index: 2" data-begin="6/1/2017" data-end="8/15/2017" data-bump-m="12x">
                    <div class="timeline__item--padding"></div> 
                    <div class="timeline__item--label">
                        <h2 style="font-size:20px;">Backend Developer</h2>
                        <p>ERA Grizzard Real Estate</p>
                        <div class="timeline__item--description">
                            <p>My first paid data science gig! I built a web server to handle a real-estate database using PHP and MySQL.</p>
                        </div>
                    </div>
                    <div class="timeline__item--marker"></div>
                </div>
            </div>

            <!-- INTERACTIVE TIMELINE LINE-->
            <div class="timeline__line" id="timeline__line" 
                onmousemove=
                "
                if (bgFade.style.opacity != 0) {
                    document.getElementById('print').innerHTML = 'testo';
                } else {
                var rect=this.getBoundingClientRect();
                var markerPos = Math.max(Math.min(event.pageY,rect.bottom), rect.top);
                const marker = document.getElementById('timeline__line--marker');
                const markerText = document.getElementById('timeline__line--marker-text');
                marker.style.top=String(markerPos)+'px'; 
                marker.style.left=String(rect.left+1)+'px';
                marker.style.opacity=1;
                markerText.style.top=String(markerPos)+'px';
                markerText.style.left=String(rect.left-4)+'px';
                var markerDate=new Date((rect.height-(markerPos-rect.top))/tlScale+timelineStart);
                markerText.innerHTML=markerDate.toLocaleString('default', { month: 'long' })+' '+markerDate.getFullYear();

                //((today)*tlScale);
                markerText.style.opacity=1;}" 

                onmouseout=
                "const marker = document.getElementById('timeline__line--marker');
                const markerText = document.getElementById('timeline__line--marker-text');
                marker.style.opacity=0; markerText.style.opacity=0;">
            </div>
            <div class="timeline__line--marker" id="timeline__line--marker" style="left:50%"></div>
            <div class="timeline__line--marker-text" id="timeline__line--marker-text" style="left:50%"></div>

            <!-- RIGHT HALF -->
            <div class="timeline__right">
                <div class="timeline__item" style="z-index: 2" data-begin="7/1/2021" data-end="present" data-bump-m="24x">
                    <div class="timeline__item--marker"></div>
                    <div class="timeline__item--label" data-bump-m="-12y">
                        <h2 style="font-size:20px;">This Website!</h2>
                        <p></p>
                        <div class="timeline__item--description">
                            <p>I created this website to be an interactive resume/portfolio that tells a story with data.
                                This project offered me a chance to practice web development, but also writing and organization. 
                                <br><br>- <a href="https://github.com/OwenDostie/owendostie.github.io" target="_blank">Source code</a>
                            </p>
                        </div>
                    </div>
                    <div class="timeline__item--padding"></div> 
                </div>
                <div class="timeline__item" style="z-index: 2" data-begin="12/1/2020" data-end="2/20/2021" data-bump-m="24x">
                    <div class="timeline__item--marker"></div>
                    <div class="timeline__item--label">
                        <h2 style="font-size:20px;">IoT Cloud Developer</h2>
                        <p>STMicroelectronics</p>
                        <div class="timeline__item--description">
                            <p> 
                                In a brief project at STMicroelectronics I integrated their STM32 discovery board with AWS IoT and Alexa. 
                                I got to say <i>"Alexa, what's the temperature at my coworker's house in Seattle?"</i> a lot. 
                                My proof-of-concepts and documentation are now being used throughout the company, which is pretty neat.
                                <br><br>- <a href="files/alexa-skill-documentation.pdf" target="_blank">Full documentation</a>
                                <br>- <a href="https://www.youtube.com/watch?v=szdakMVr4wM" target="_blank">Video demonstration</a>
                            </p></div>
                    </div>
                    <div class="timeline__item--padding"></div> 
                </div>
                <div class="timeline__item" style="z-index: 1; color:slateblue" data-begin="10/1/2019" data-end="5/16/2020" data-bump="12x" data-bump-m="24x">
                    <div class="timeline__item--marker" style="border-color:slateblue; background-color:slateblue"></div>
                    <div class="timeline__item--label">
                        <h2>Data Science Team Lead</h2>
                        <p>Refresco</p>
                        <div class="timeline__item--description">
                            <p>My senior year at poly I was given the opportunity to work for Refresco in a co-op style environment.
                                I led five data scientists with the goal of improving manufacturing efficiency using sensor data. 
                                Among many other things, we provided a cost benefit analysis with six-figure savings for the company. 
                            </p>
                        </div>
                    </div>
                    <div class="timeline__item--padding"></div> 
                </div>
                <div class="timeline__item" style="color: royalblue" data-begin="08/21/2016" data-end="05/23/2020">
                    <div class="timeline__item--marker" style="border-color:royalblue; background-color:royalblue"></div>
                    <div class="timeline__item--label" data-bump-m="-36y">
                        <h2>B.S. Data Science</h2>
                        <p>Florida Polytechnic University</p>
                        <div class="timeline__item--description">
                            <!-- <div class="timeline__item--date">08/2016 - 05/2020</div> -->
                            <p>I ended up at Florida Poly because back in 2016 it was one of only eleven universities in the U.S. offering a 
                                data science program, with an undergrad curriculum competitive with many of the highest-rated masters
                                programs across the country. I had a great four years there thanks to the many amazing people I met along the way.
                                
                        </div>
                    </div>
                    <div class="timeline__item--padding"></div> 
                    
                    <!-- https://www.mastersindatascience.org/schools/23-great-schools-with-masters-programs-in-data-science/ -->
                </div>
            </div>
        </div>

        <div class="timeline__footer">
            <p>2016</p>
        </div>

        <!-- MOVE LEFT TIMELINE TO THE RIGHT ON MOBILE -->
        <!-- <script>
            if (window.matchMedia("only screen and (max-width: 700px)").matches) {
             

            }
        </script> -->

        </div>
        <!-- https://github.com/bunsenmurder/ML-Project-Attendance-Counter -->
    </div>

    <!-- INTERACTIVE TIMELINE ITEMS -->
    <!-- POPULATE TIMELINE -->
    <script>
        // GET CURRENT DATE
        const today = new Date().getTime();
        const timelineStart = new Date(2016, 8, 1).getTime();
        const timelineHeight = document.getElementsByClassName('timeline__body')[0].clientHeight;
        const tlScale = 1/(today - timelineStart)*timelineHeight

        // document.getElementById("print").innerHTML = tlmiddle;

        // ADD COLORS & ORGANIZE TIMELINE
        const colors = ['crimson','cadetblue','darkseagreen','purple','slateblue','forestgreen']
        // const colors = ['red','orange','goldenrod','green','blue','indigo','violet']
        var items = document.querySelectorAll(".timeline__item");
        for(var i=0; i<items.length; i++){

            // items[i].style.color = colors[i % colors.length]
                // items[i].children.getElementsByClassName('timeline__item--marker').style.borderColor = colors[i % colors.length]

            // IF THE ITEM HAS A START DATE MOVE IT AROUND ON THE TIMELINE
            if (typeof items[i].dataset.begin !== 'undefined') {
                var dateEnd, dateBegin = 0
                if (items[i].dataset.end == 'present') {
                    dateEnd = today;
                }
                else {
                    dateEnd = Math.min(Date.parse(items[i].dataset.end), today);
                }
                dateBegin = Math.max(Date.parse(items[i].dataset.begin), timelineStart);

                items[i].style.top = String(Math.round((today-dateEnd)*tlScale)) + 'px'
                items[i].style.height = String(Math.round((dateEnd - dateBegin)*tlScale)) + 'px'
            }

        }
    </script>
    
    <!-- INTERACTION -->
    <script>
        // ADD INTERACTION TO timeline__item
        const bgFade = document.getElementById("bg-fade");
        const tl_line = document.getElementById('timeline__line')
        items = document.querySelectorAll(".timeline__item--label");
        for(var i=0; i<items.length; i++){
            items[i].onmouseover = function(event){
                if (event.currentTarget.classList.contains("timeline__item--description")) {
                    this.parentElement.classList.remove("timeline__item--hover");
                } else {this.parentElement.classList.add("timeline__item--hover");}
                // console.log(event.target.classList);
            }
            items[i].onmouseleave = function(){
                this.parentElement.classList.remove("timeline__item--hover");
            }
            items[i].addEventListener('mousedown',function(event){
                console.log(event.target);
                var marker = this.parentElement.getElementsByClassName("timeline__item--marker")[0]
                if (this.parentElement.classList.contains("timeline__item--focused")) {
                    this.parentElement.classList.remove("timeline__item--focused");
                    marker.style.transform = 'translateX(0px)'
                    bgFade.classList.remove("bg-fade--visible");
                } else {
                    this.parentElement.classList.add("timeline__item--focused");
                    marker.style.transform = `translateX(${(tl_line.getBoundingClientRect().x - marker.getBoundingClientRect().x) - 2}px)`
                    console.log(tl_line.getBoundingClientRect().x - marker.getBoundingClientRect().x)
                    bgFade.classList.add("bg-fade--visible");
                }
                event.stopPropagation();
            })
            // DIFFERENT BEHAVIOR WHEN CLICKING DESCRIPTIVE TEXT
            // items[i].getElementsByClassName("timeline__item--description")[0].addEventListener('click',function(event){
            // })
        }

        items = document.querySelectorAll(".timeline__item--description");
        for(var i=0; i<items.length; i++){
            items[i].addEventListener("mouseover", e =>{
                e.currentTarget.parentElement.parentElement.classList.remove("timeline__item--hover");
                console.log(e.currentTarget.parentElement.parentElement);
                e.stopPropagation();
                // console.log(e.target.parentElemennt);
                // this.parentElement.classList.remove("timeline__item--hover");
                // console.log(event.target.classList);
            })
            items[i].addEventListener("mousedown", e => {
                e.stopPropagation();
                // console.log(event.target.classList);
            })
        }

        // REMOVE FOCUS WHEN CLICKING AWAY FROM ITEM
        document.addEventListener("mousedown",function(event){
            items = document.querySelectorAll(".timeline__item");
            bgFade.classList.remove("bg-fade--visible");
            for (var i=0; i<items.length; i++){
                items[i].classList.remove("timeline__item--focused");
                items[i].getElementsByClassName("timeline__item--marker")[0].style.transform = 'translateX(0px)';
            }
        })
        
        // ANIMATE MARKER WHEN ITEM IS FOCUSED
        

    </script>
</content>